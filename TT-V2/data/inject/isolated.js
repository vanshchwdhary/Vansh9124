var port;try{(port=document.getElementById("lwys-ctv-port")).remove()}catch(e){(port=document.createElement("span")).id="lwys-ctv-port",document.documentElement.append(port)}port.dataset.hidden=document.hidden,port.dataset.enabled=!0,port.addEventListener("state",(()=>{port.dataset.hidden=document.hidden}));var update=()=>chrome.storage.local.get({enabled:!0,blur:!0,focus:!0,mouseleave:!0,visibility:!0,pointercapture:!0,policies:null},(e=>{let t=location.hostname;try{t=parent.location.hostname}catch(e){}e.policies=e.policies??{};const a=e.policies[t]||[];port.dataset.enabled=e.enabled,port.dataset.blur=!a.includes("blur")&&e.blur,port.dataset.focus=!a.includes("focus")&&e.focus,port.dataset.mouseleave=!a.includes("mouseleave")&&e.mouseleave,port.dataset.visibility=!a.includes("visibility")&&e.visibility,port.dataset.pointercapture=!a.includes("pointercapture")&&e.pointercapture}));update(),chrome.storage.onChanged.addListener(update);